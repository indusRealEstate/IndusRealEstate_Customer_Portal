<div id="full-screen-image">
  <button class="close-btn" title="Exit">

    <img
      matTooltip="Close"
      matTooltipClass="tooltip"
      matTooltipPosition="above"
      (click)="onCloseDialog()"
      class="mr-2 mt-1 close-icon"
      src="assets/img/svg/req-details/close-circle.svg"
      alt />
  </button>
  <img src alt id="image">
</div>

<div class="main-content" *ngIf="screenWidth > 430">
  <div class="container-fluid"
    style="max-width: 100vw">

    <ngx-skeleton-loader *ngIf="isContentLoading"
      [theme]="{ width: (500) + 'px', height: '40px' }">
    </ngx-skeleton-loader>
    <div class="row" *ngIf="!isContentLoading">
      <div class="col-md-12">
        <h4 class="item-header">User profile <span
            [ngClass]=" isOwner == true ? 'tag-active' : 'tag-deactive'"
            class="tag text-uppercase">{{all_data.user_type}}</span></h4>
      </div>
    </div>

    <ngx-skeleton-loader *ngIf="isContentLoading"
      [theme]="{ width: (screenWidth - 120) + 'px', height: '50vh' }">
    </ngx-skeleton-loader>
    <div class="row" *ngIf="!isContentLoading">
      <div class="col-md-8">
        <div class="card card-main">
          <div class="card-header top-profile">
            <div class="row profile-top-row">

            </div>
            <div class="row profile-bottom-row">
              <img src="{{profile_image}}" alt
                class="card-img-top user-image m-auto"
                (click)="viewImageOfUnit()">
            </div>
          </div>
          <div class="card-body profile-body">
            <div class="row">
              <div class="col-12">
                <h4 class="title-header pl-4">{{all_data.user_name}}</h4>
                <div class="table-row">
                  <table class="teble table-striped w-100 px-3 detail-table">
                    <!-- <thead class="thead">
                      <tr>
                        <th scope="col" class="p-3">Title</th>
                        <th scope="col" class="p-3">Details</th>
                      </tr>
                    </thead> -->
                    <tbody class="tbody text-uppercase">
                      <tr scope="row">
                        <th class="p-3 col-md-2" scope="row">{{all_data.user_id_type}}</th>
                        <td class="p-3 col-md-4">{{all_data.user_id_number}}</td>
                        <th class="p-3 col-md-2" scope="row">gender</th>
                        <td class="p-3 col-md-4">{{all_data.user_gender}}</td>
                      </tr>
                      <tr scope="row">
                        <th class="p-3 col-md-2" scope="row">email</th>
                        <td class="p-3 col-md-4">{{all_data.user_email}}</td>
                        <th class="p-3 col-md-2"
                          *ngIf="all_data.user_alternative_email != ''"
                          scope="row">{{all_data.user_alternative_email != ''?
                          'alternative mail' : ''}}</th>
                        <td class="p-3 col-md-4"
                          *ngIf="all_data.user_alternative_email != ''">{{all_data.user_alternative_email
                          != ''? all_data.user_alternative_email : ''}}</td>

                      </tr>
                      <tr scope="row">
                        <th class="p-3 col-md-2" scope="row">phone</th>
                        <td class="p-3 col-md-4">{{all_data.user_country_code_number}}
                          - {{all_data.user_mobile_number}}</td>
                        <th class="p-3 col-md-2"
                          *ngIf="all_data.user_alternative_mobile_number != ''"
                          scope="row"> {{all_data.user_alternative_mobile_number
                          != ''? 'alternative phone' : ''}}</th>
                        <td class="p-3 col-md-4"
                          *ngIf="all_data.user_alternative_mobile_number != ''">{{all_data.user_alternative_mobile_number
                          != '' ? all_data.user_country_code_alternative_number
                          + '-' + all_data.user_alternative_mobile_number : ''}}</td>
                      </tr>
                      <tr scope="row">
                        <th class="p-3 col-md-2" scope="row">date of birth</th>
                        <td class="p-3 col-md-4">{{all_data.user_dob | date}}</td>
                        <th class="p-3 col-md-2" scope="row">nationality</th>
                        <td class="p-3 col-md-4">{{all_data.user_nationality}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card main-card doc-column">
          <div class="card-body">
            <div class="row table-row">
              <table class="teble table-striped w-100 px-3 detail-table">
                <!-- <thead class="thead">
                  <tr>
                    <th scope="col" class="p-3">Title</th>
                    <th scope="col" class="p-3">Details</th>
                  </tr>
                </thead> -->
                <tbody class="tbody text-uppercase">
                  <tr scope="row" *ngFor="let item of user_doc; let index = i">
                    <th class="p-3 col-md-8" scope="row">{{item}}</th>
                    <td class="p-3 col-md-4 d-flex">
                      <button (click)="navigateToDetailPage(item)"
                        class="btn open-external-link-icon mx-auto"
                        title="extenal"><img
                          src="assets/img/svg/common-icons/open-external-link-icon.svg"
                          alt></button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <ngx-skeleton-loader *ngIf="isContentLoading"
      [theme]="{ width: (screenWidth - 120) + 'px', height: '50vh' }">
    </ngx-skeleton-loader>
    <div class="row" *ngIf="!isContentLoading">
      <div class="col-md-10 mx-auto" *ngIf="all_data.property != 'none'">
        <div class="card card-main">
          <div class="card-header"><h4 class="title-header">Property details</h4></div>
          <div class="card-body detail-table">
            <div class="table-row">
              <table class="teble table-striped w-100 px-3 detail-table">
                <thead class="thead">
                  <tr>
                    <th scope="col" class="p-3">Address</th>
                    <th scope="col" class="p-3">link</th>
                  </tr>
                </thead>
                <tbody class="tbody text-uppercase">
                  <tr scope="row"
                    *ngFor="let item of all_data.property; let index = i">
                    <td class="p-3 col-md-8">{{item.prop_name + ' - ' +
                      item.prop_address}}</td>
                    <td class="p-3 col-md-4"><button
                        (click)="navigateToProprety(item.prop_uid)"
                        class="btn open-external-link-icon mx-auto"
                        title="extenal"><img
                          src="assets/img/svg/common-icons/open-external-link-icon.svg"
                          alt>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <ngx-skeleton-loader *ngIf="isContentLoading"
      [theme]="{ width: (screenWidth - 120) + 'px', height: '50vh' }">
    </ngx-skeleton-loader>
    <div class="row" *ngIf="!isContentLoading">
      <div class="col-md-10 mx-auto" *ngIf="all_data.unit != 'none'">
        <div class="card card-main">
          <div class="card-header"><h4 class="title-header">Unit details</h4></div>
          <div class="card-body detail-table">
            <div class="table-row">
              <table class="teble table-striped w-100 px-3 detail-table">
                <thead class="thead">
                  <tr>
                    <th scope="col" class="p-3">unit number</th>
                    <th scope="col" class="p-3">address</th>
                    <th scope="col" class="p-3">link</th>
                  </tr>
                </thead>
                <tbody class="tbody text-uppercase">
                  <tr scope="row"
                    *ngFor="let item of all_data.unit; let index = i">
                    <td class="p-3 col-md-2">{{item.unit_no}}</td>
                    <td class="p-3 col-md-8">{{item.unit_no + ' - ' + item.prop_name + ' - ' +
                      item.prop_address}}</td>
                    <td class="p-3 col-md-2"><button
                        (click)="navigateToUnit(item.unit_id)"
                        class="btn open-external-link-icon mx-auto"
                        title="extenal"><img
                          src="assets/img/svg/common-icons/open-external-link-icon.svg"
                          alt>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
