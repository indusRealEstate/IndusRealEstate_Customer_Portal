<div class="main-content home-bg">
  <div class="container-fluid" style="margin-top: 25px">
    <div
      *ngIf="isLoading == true"
      style="
        display: flex;
        width: 100%;
        height: 800px;
        justify-content: center;
        align-items: center;
      "
    >
      <span class="spinner-border spinner-border-m mr-2" style="color: #d4aa32">
      </span>
    </div>
    <div class="row" style="margin: 0" *ngIf="isLoading == false">
      <div class="col-lg-7">
        <div
          style="
            background-color: #343b44;
            color: white;
            padding: 25px;
            border-radius: 10px;
          "
        >
          <div class="row" style="margin: 0">
            <img
              class="sidebar-dropdown-icons"
              src="assets/img/svg/sidebar/arrow-swap-horizontal.svg"
              alt=""
              style="
                filter: brightness(0) invert(1);
                width: 40px;
                margin-left: 15px;
                user-select: none;
                pointer-events: none;
              "
            />
            <div
              class="col"
              style="margin-left: 25px; margin-top: 10px; padding-right: 85px"
            >
              <p
                style="font-size: 20px; font-weight: 600; letter-spacing: 0.8px"
              >
                Total Requests
              </p>
              <mat-progress-bar
                style="margin-bottom: 10px; margin-top: -5px"
                mode="determinate"
                value="{{requestPercentage}}"
              ></mat-progress-bar>

              <p>
                Out of {{totalRequests}} requests
                {{totalRequests-approvedRequests}} are remaining unapproved.
              </p>
              <a class="view-request-link" (click)="moreRequestClicked()"
                >View Requests</a
              >
            </div>
            <div style="position: absolute; right: 80px">
              <img
                class="sidebar-dropdown-icons"
                src="assets/img/svg/sidebar/arrow-swap-horizontal.svg"
                alt=""
                style="
                  filter: invert(14%) sepia(37%) saturate(343%) hue-rotate(7deg)
                    brightness(85%) contrast(76%);
                  width: 60px;
                  transform: rotate(45deg);
                  margin-top: 52px;
                  margin-right: -30px;
                  user-select: none;
                  pointer-events: none;
                "
              />
              <img
                class="sidebar-dropdown-icons"
                src="assets/img/svg/sidebar/arrow-swap-horizontal.svg"
                alt=""
                style="
                  filter: invert(14%) sepia(37%) saturate(343%) hue-rotate(7deg)
                    brightness(85%) contrast(76%);
                  width: 60px;
                  transform: rotate(119deg);
                  margin-top: -81px;
                  margin-right: -33px;
                  user-select: none;
                  pointer-events: none;
                "
              />
            </div>
            <p
              style="
                font-size: 35px;
                margin-top: 40px;
                margin-right: 30px;
                font-weight: 600;
                z-index: 1;
              "
            >
              {{totalRequests}}
            </p>
          </div>
        </div>

        <p
          style="
            color: #404040;
            font-size: 27px;
            font-weight: 800;
            margin-top: 25px;
            letter-spacing: 0.2px;
          "
        >
          Properties
        </p>

        <div class="row" style="margin: 0; margin-top: -25px">
          <div class="col-6" style="min-width: 330px; padding-left: 0">
            <div
              (click)="navigateToTotalSaleProperties()"
              class="card dashboard-sm-card"
              style="background-color: #ffffff; min-width: 330px"
            >
              <div class="row" style="margin: 0; padding: 10px">
                <div class="col">
                  <p
                    style="font-size: 40px; margin-top: 30px; font-weight: 900"
                  >
                    {{salePropertiesLength}}
                  </p>
                  <p
                    style="margin-bottom: 0; font-size: 15px; font-weight: 600"
                  >
                    Properties for Sale
                  </p>
                  <p style="margin: 0; color: #a3a3a3; margin-bottom: 8px">
                    Targeting 20+ more
                  </p>
                </div>
                <img
                  class="sidebar-dropdown-icons"
                  src="assets/img/svg/admin-dashboard/house.svg"
                  alt=""
                  style="
                    width: 45px;
                    filter: invert(58%) sepia(62%) saturate(495%)
                      hue-rotate(7deg) brightness(106%) contrast(84%);
                    margin-right: -8px;
                    user-select: none;
                    pointer-events: none;
                  "
                />
                <img
                  class="sidebar-dropdown-icons"
                  src="assets/img/svg/admin-dashboard/house.svg"
                  alt=""
                  style="
                    width: 30px;
                    margin-right: 20px;
                    filter: invert(52%) sepia(12%) saturate(1334%)
                      hue-rotate(7deg) brightness(94%) contrast(90%);
                    margin-top: 13px;
                    user-select: none;
                    pointer-events: none;
                  "
                />
              </div>
              <img
                class="sidebar-dropdown-icons"
                src="assets/img/svg/admin-dashboard/arrow-right-2.svg"
                alt=""
                style="
                  width: 20px;
                  align-self: self-end;
                  margin-right: 10px;
                  margin-top: -15px;
                  margin-bottom: 12px;
                  filter: invert(70%) sepia(0%) saturate(0%) hue-rotate(220deg)
                    brightness(94%) contrast(84%);
                "
              />
            </div>
          </div>
          <div class="col-6" style="min-width: 330px; padding-right: 0">
            <div
              (click)="navigateToTotalRentProperties()"
              class="card dashboard-sm-card"
              style="background-color: #ffffff; min-width: 330px"
            >
              <div class="row" style="margin: 0; padding: 10px">
                <div class="col">
                  <p
                    style="font-size: 40px; margin-top: 30px; font-weight: 900"
                  >
                    {{rentPropertiesLength}}
                  </p>
                  <p
                    style="margin-bottom: 0; font-size: 15px; font-weight: 600"
                  >
                    Properties for Rent
                  </p>
                  <p style="margin: 0; color: #a3a3a3; margin-bottom: 8px">
                    Targeting 20+ more
                  </p>
                </div>
                <img
                  class="sidebar-dropdown-icons"
                  src="assets/img/svg/admin-dashboard/house.svg"
                  alt=""
                  style="
                    width: 45px;
                    filter: invert(58%) sepia(62%) saturate(495%)
                      hue-rotate(7deg) brightness(106%) contrast(84%);
                    margin-right: -8px;
                    user-select: none;
                    pointer-events: none;
                  "
                />
                <img
                  class="sidebar-dropdown-icons"
                  src="assets/img/svg/admin-dashboard/house.svg"
                  alt=""
                  style="
                    width: 30px;
                    margin-right: 20px;
                    filter: invert(52%) sepia(12%) saturate(1334%)
                      hue-rotate(7deg) brightness(94%) contrast(90%);
                    margin-top: 13px;
                    user-select: none;
                    pointer-events: none;
                  "
                />
              </div>
              <img
                class="sidebar-dropdown-icons"
                src="assets/img/svg/admin-dashboard/arrow-right-2.svg"
                alt=""
                style="
                  width: 20px;
                  align-self: self-end;
                  margin-right: 10px;
                  margin-top: -15px;
                  margin-bottom: 12px;
                  filter: invert(70%) sepia(0%) saturate(0%) hue-rotate(220deg)
                    brightness(94%) contrast(84%);
                  user-select: none;
                  pointer-events: none;
                "
              />
            </div>
          </div>
        </div>
        <p
          style="
            color: #404040;
            font-size: 27px;
            font-weight: 800;
            margin-top: 0px;
            letter-spacing: 0.2px;
          "
        >
          Clients
        </p>

        <div
          class="row"
          style="margin: 0; justify-content: space-between; margin-top: -25px"
        >
          <div class="col-6" style="min-width: 330px; padding-left: 0">
            <div
              (click)="navigateToTotalLandlordCleints()"
              class="card dashboard-sm-card"
              style="background-color: #ffffff; min-width: 330px"
            >
              <div class="row" style="margin: 0; padding: 10px">
                <div class="col">
                  <p
                    style="font-size: 40px; margin-top: 30px; font-weight: 900"
                  >
                    {{landlordClient}}
                  </p>
                  <p
                    style="margin-bottom: 0; font-size: 15px; font-weight: 600"
                  >
                    Landlord Clients
                  </p>
                  <p style="margin: 0; color: #a3a3a3; margin-bottom: 8px">
                    Targeting 20+ more
                  </p>
                </div>
                <img
                  class="sidebar-dropdown-icons"
                  src="assets/img/svg/admin-dashboard/profile-2user.svg"
                  alt=""
                  style="
                    width: 55px;
                    margin-top: 13px;
                    margin-right: -70px;
                    filter: invert(95%) sepia(111%) saturate(0%)
                      hue-rotate(75deg) brightness(100%) contrast(98%);
                    user-select: none;
                    pointer-events: none;
                  "
                />
                <img
                  class="sidebar-dropdown-icons"
                  src="assets/img/svg/admin-dashboard/profile-2user.svg"
                  alt=""
                  style="
                    width: 45px;
                    filter: invert(58%) sepia(62%) saturate(495%)
                      hue-rotate(7deg) brightness(106%) contrast(84%);
                    margin-right: 40px;
                    margin-top: 13px;
                    user-select: none;
                    pointer-events: none;
                  "
                />
              </div>
              <img
                class="sidebar-dropdown-icons"
                src="assets/img/svg/admin-dashboard/arrow-right-2.svg"
                alt=""
                style="
                  width: 20px;
                  align-self: self-end;
                  margin-right: 10px;
                  margin-top: -15px;
                  margin-bottom: 12px;
                  filter: invert(70%) sepia(0%) saturate(0%) hue-rotate(220deg)
                    brightness(94%) contrast(84%);
                  user-select: none;
                  pointer-events: none;
                "
              />
            </div>
          </div>
          <div class="col-6" style="min-width: 330px; padding-right: 0">
            <div
              (click)="navigateToTotalTenantCleints()"
              class="card dashboard-sm-card"
              style="background-color: #ffffff; min-width: 330px"
            >
              <div class="row" style="margin: 0; padding: 10px">
                <div class="col">
                  <p
                    style="font-size: 40px; margin-top: 30px; font-weight: 900"
                  >
                    {{tenantClient}}
                  </p>
                  <p
                    style="margin-bottom: 0; font-size: 15px; font-weight: 600"
                  >
                    Tenant Clients
                  </p>
                  <p style="margin: 0; color: #a3a3a3; margin-bottom: 8px">
                    Targeting 20+ more
                  </p>
                </div>
                <img
                  class="sidebar-dropdown-icons"
                  src="assets/img/svg/admin-dashboard/profile-2user.svg"
                  alt=""
                  style="
                    width: 55px;
                    margin-top: 13px;
                    margin-right: -70px;
                    filter: invert(95%) sepia(111%) saturate(0%)
                      hue-rotate(75deg) brightness(100%) contrast(98%);
                    user-select: none;
                    pointer-events: none;
                  "
                />
                <img
                  class="sidebar-dropdown-icons"
                  src="assets/img/svg/admin-dashboard/profile-2user.svg"
                  alt=""
                  style="
                    width: 45px;
                    filter: invert(58%) sepia(62%) saturate(495%)
                      hue-rotate(7deg) brightness(106%) contrast(84%);
                    margin-right: 40px;
                    margin-top: 13px;
                    user-select: none;
                    pointer-events: none;
                  "
                />
              </div>
              <img
                class="sidebar-dropdown-icons"
                src="assets/img/svg/admin-dashboard/arrow-right-2.svg"
                alt=""
                style="
                  width: 20px;
                  align-self: self-end;
                  margin-right: 10px;
                  margin-top: -15px;
                  margin-bottom: 12px;
                  filter: invert(70%) sepia(0%) saturate(0%) hue-rotate(220deg)
                    brightness(94%) contrast(84%);
                  user-select: none;
                  pointer-events: none;
                "
              />
            </div>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card" style="margin-top: 0">
          <div
            class="card-header"
            style="
              border-bottom: 1px solid #a3a3a3;
              background-image: linear-gradient(
                  to bottom,
                  rgb(255 255 255 / 73%) 50%,
                  rgb(255 255 255 / 76%) 80%
                ),
                url('assets/img/bg/navbar_bg.webp');
            "
          >
            <div class="row" style="margin: 0; justify-content: space-between">
              <p
                style="
                  margin: 0;
                  font-size: 22px;
                  margin-top: 20px;
                  margin-left: 10px;
                  font-weight: 900;
                  margin-bottom: 15px;
                "
              >
                Requests Overview
              </p>
              <img
                class="sidebar-dropdown-icons"
                src="assets/img/svg/admin-dashboard/menu-1.svg"
                alt=""
                style="width: 20px; user-select: none; pointer-events: none"
              />
            </div>
          </div>
          <div class="card-body">
            <div
              class="col"
              style="padding: 0"
              *ngIf="isRequestOverviewLoading == true"
            >
              <div
                class="row"
                style="margin: 0; margin-left: 14px; margin-top: 20px"
              >
                <div
                  style="max-width: 75px; max-height: 75px; border-radius: 9px"
                >
                  <ngx-skeleton-loader
                    [theme]="{ width: '75px', height: '75px' }"
                  >
                  </ngx-skeleton-loader>
                </div>
                <div class="col" style="padding: 0">
                  <div
                    style="
                      max-width: 200px;
                      max-height: 30px;
                      border-radius: 9px;
                      margin-top: 10px;
                      margin-left: 10px;
                    "
                  >
                    <ngx-skeleton-loader
                      [theme]="{ width: '200px', height: '30px' }"
                    >
                    </ngx-skeleton-loader>
                  </div>
                  <div
                    style="
                      max-width: 200px;
                      max-height: 30px;
                      border-radius: 9px;
                      margin-top: 10px;
                      margin-left: 10px;
                    "
                  >
                    <ngx-skeleton-loader
                      [theme]="{ width: '290px', height: '24px' }"
                    >
                    </ngx-skeleton-loader>
                  </div>
                </div>
              </div>
              <hr
                style="margin-bottom: 0; margin-left: 15px; margin-right: 22px"
              />
              <div
                class="row"
                style="margin: 0; margin-left: 14px; margin-top: 20px"
              >
                <div
                  style="max-width: 75px; max-height: 75px; border-radius: 9px"
                >
                  <ngx-skeleton-loader
                    [theme]="{ width: '75px', height: '75px' }"
                  >
                  </ngx-skeleton-loader>
                </div>
                <div class="col" style="padding: 0">
                  <div
                    style="
                      max-width: 200px;
                      max-height: 30px;
                      border-radius: 9px;
                      margin-top: 10px;
                      margin-left: 10px;
                    "
                  >
                    <ngx-skeleton-loader
                      [theme]="{ width: '200px', height: '30px' }"
                    >
                    </ngx-skeleton-loader>
                  </div>
                  <div
                    style="
                      max-width: 200px;
                      max-height: 30px;
                      border-radius: 9px;
                      margin-top: 10px;
                      margin-left: 10px;
                    "
                  >
                    <ngx-skeleton-loader
                      [theme]="{ width: '290px', height: '24px' }"
                    >
                    </ngx-skeleton-loader>
                  </div>
                </div>
              </div>
            </div>

            <div
              *ngFor="let pp of requestOverview; let last = last;let index = index;"
            >
              <div
                *ngIf="isRequestOverviewLoading == false"
                class="row"
                style="margin: 0; margin-left: 10px; margin-top: 20px"
              >
                <img
                  src="{{'data:image/jpeg;base64,' + pp.userDetails.profile_photo}}"
                  alt=""
                  style="
                    max-width: 75px;
                    max-height: 75px;
                    border-radius: 9px;
                    user-select: none;
                    pointer-events: none;
                  "
                />

                <div class="col">
                  <div class="row" style="margin: 0; margin-top: 13px">
                    <p
                      style="
                        margin: 0;
                        font-size: 24px;
                        font-weight: 900;
                        margin-right: 15px;
                      "
                    >
                      {{pp.userData.firstname}}
                    </p>
                    <p style="margin: 0; font-weight: 900; color: #d4aa32">
                      {{pp.userData.auth_type}}
                    </p>
                  </div>
                  <p style="margin: 0; margin-top: 10px">
                    Requested for maintenance on property ref. Indus-ax123123
                    and p...
                  </p>
                </div>
              </div>
              <div *ngIf="isRequestOverviewLoading == false">
                <hr
                  *ngIf="!last"
                  style="
                    margin-bottom: 0;
                    margin-left: 15px;
                    margin-right: 22px;
                  "
                />
              </div>
            </div>

            <div
              class="row"
              style="
                margin: 0;
                justify-content: right;
                margin-top: 57px;
                margin-bottom: 20px;
              "
            >
              <div
                class="row more-btn-request-Overview"
                (click)="moreRequestClicked()"
              >
                <p>More</p>
                <img
                  src="assets/img/svg/admin-dashboard/arrow-right-1.svg"
                  alt=""
                  style="user-select: none; pointer-events: none"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
