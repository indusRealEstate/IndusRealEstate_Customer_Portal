<div
  class="card"
  style="margin: 0"
  cdkDrag
  cdkDragRootElement=".cdk-overlay-pane"
>
  <!-- <div class="card-header"></div> -->
  <div
    class="card-body"
    style="padding: 1.5rem 2.5rem; padding-bottom: 4rem !important"
  >
    <div class="col p-0">
      <div class="row m-0 align-items-start w-100">
        <div class="row m-0 align-items-start w-100">
          <p
            class="mr-2"
            style="font-weight: 500; color: #3c4858b5; font-size: 0.87rem"
          >
            Announcement
          </p>
          <img
            class="mr-2 mt-1 header-arrow-icon"
            src="assets/img/svg/admin-dashboard/arrow-right-1.svg"
            alt
          />
          <p
            class="mr-2"
            style="font-weight: 500; color: #3c4858b5; font-size: 0.87rem"
          >
            Announcement Details
          </p>
        </div>
        <img
          matTooltip="Close"
          matTooltipClass="tooltip"
          matTooltipPosition="above"
          (click)="onCloseDialog()"
          class="close-icon"
          src="assets/img/svg/req-details/close-circle.svg"
          alt=""
        />
      </div>

      <div class="col mt-4 p-0 w-100">
        <div class="row m-0">
          <div class="col-7 pl-0">
            <p style="font-size: 18px; font-weight: 500; color: #d4aa32">
              {{announcementData.a_title | titlecase}}
            </p>
            <div class="mb-4" style="max-height: 20rem; overflow: auto">
              <p
                style="font-size: 16px; font-weight: 400; color: #808080d9"
                class="mb-0"
              >
                {{announcementData.a_description | titlecase}}
              </p>
            </div>
            <div
              class="card m-0"
              style="
                box-shadow: none;
                border: 1px solid #e6ebf1;
                padding: 15px 15px;
              "
            >
              <div class="row m-0">
                <div class="col pl-0">
                  <p class="mb-0" style="font-size: 15px; font-weight: 600">
                    Property
                  </p>
                  <span
                    class="prop-name"
                    (click)="navigateToProprety(announcementData.pro_id)"
                    >{{announcementData.p_name | titlecase}}</span
                  >
                </div>
                <div class="col pr-0">
                  <p class="mb-0" style="font-size: 15px; font-weight: 600">
                    Emergency
                  </p>
                  <span
                    [ngClass]=" announcementData.a_emergency == '0' ? 'not-emergency' : 'emergency'"
                  >
                    {{emergency}}
                  </span>
                </div>
              </div>
              <div class="row m-0 mt-3">
                <div class="col pl-0">
                  <p class="mb-0" style="font-size: 15px; font-weight: 600">
                    Created Date
                  </p>
                  <span class="prop-name"
                    >{{announcementData.a_date | date:'M/d/y'}}</span
                  >
                </div>
              </div>
            </div>
            <div
              class="row m-0 mt-3 align-items-start"
              style="
                background: #1c274c24;
                border-left: 4px solid #1c274c;
                border-radius: 5px;
                padding: 10px 15px;
              "
            >
              <img src="assets/img/svg/info.svg" alt="" style="width: 25px" />
              <div class="col" style="text-align: start">
                <p
                  style="font-size: 15px; font-weight: 600; color: #1c274c"
                  class="m-0"
                >
                  Info
                </p>
                <p
                  class="mb-1"
                  style="font-size: 13px; font-weight: 400; color: #1c274cd9"
                >
                  This Announcement will deliver to all tenants under
                  <span style="font-weight: 700"
                    >{{announcementData.p_name | titlecase}}</span
                  >
                  property.
                </p>
              </div>
            </div>
          </div>
          <div class="col pr-0">
            <p style="font-size: 18px; font-weight: 500; color: #596677">
              Attached Files
            </p>
            <p *ngIf="attachments.length == 0">No Attachments!</p>
            <div
              *ngIf="attachments.length != 0"
              style="height: 20rem; overflow: auto"
            >
              <div
                class="row m-0 mb-2 justify-content-between"
                *ngFor="let att of attachments"
                style="
                  border: 1px solid #929aa5ad;
                  padding: 7px 15px;
                  max-width: 20rem;
                  border-radius: 3px;
                "
              >
                <p
                  class="m-0"
                  style="
                    text-overflow: ellipsis;
                    overflow: hidden;
                    white-space: nowrap;
                    font-weight: 500;
                  "
                >
                  {{att}}
                </p>
                <img
                  style="width: 20px; cursor: pointer"
                  matTooltip="Download"
                  matTooltipClass="tooltip"
                  matTooltipPosition="above"
                  (click)="downloadAttachment(att)"
                  src="assets/img/svg/document-download.svg"
                  alt
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
